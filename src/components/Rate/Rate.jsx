import React, {Component} from 'react';
import TripService from '../TripService/emitter';

import './rate.css'

class App extends Component {
  constructor(props) {
    super(props);

    this.tripId = props.tripId;

    this.state = {
      "stars": []
    }
    for (var i = 0; i < 5; i++) {
      this.pushStar(i + 1);
    }
  }

  pushStar = (rate) => {
    this.state.stars.push(<> <button className = "icon_star" onClick = {
      () => {
        this.buttonPress(rate)
      }
    } > <svg className="Star" viewBox="5.485 7.325 25 24">
      <path d="M 23.4788932800293 14.28519153594971 L 28.88227844238281 15.06504344940186 C 30.4146671295166 15.28582286834717 31.0278491973877 17.17068099975586 29.92105865478516 18.25374031066895 L 26.0172119140625 22.07398796081543 C 25.57734870910645 22.50454521179199 25.37771797180176 23.12296676635742 25.4819278717041 23.73036575317383 L 26.4110221862793 29.11684226989746 C 26.67428398132324 30.64471817016602 25.07497787475586 31.81120681762695 23.70382881164551 31.09175300598145 L 18.86852645874023 28.55336761474609 C 18.32445335388184 28.26778793334961 17.67398262023926 28.26778793334961 17.12990760803223 28.55556488037109 L 12.30134677886963 31.10494422912598 C 10.93238830566406 31.82768630981445 9.328673362731934 30.66448783874512 9.588647842407227 29.13661575317383 L 10.50457096099854 23.74788665771484 C 10.60768127441406 23.14158630371094 10.40584850311279 22.52206993103027 9.964879989624023 22.09260559082031 L 6.053170680999756 18.28219985961914 C 4.943093299865723 17.20136070251465 5.552988052368164 15.31536293029785 7.084283351898193 15.09125423431396 L 12.48541927337646 14.29931163787842 C 13.09312438964844 14.21034049987793 13.61855030059814 13.82699680328369 13.89057350158691 13.27451324462891 L 16.30050086975098 8.36915397644043 C 16.98388671875 6.978584289550781 18.96383476257324 6.976390838623047 19.65058898925781 8.364760398864746 L 22.07258987426758 13.26365280151367 C 22.34462547302246 13.81503868103027 22.87116241455078 14.19728851318359 23.47883796691895 14.28516101837158 Z"></path>
    </svg>
  </button> < />);
  }

  buttonPress = (score) => {
    TripService.emit('rateDone', {"score": score, "tripId": this.tripId});
  }

  componentDidMount = () => {
    // Anything?
  };

  componentWillUnmount = () => {
    // Anything?
  }

  render = () => {
    return (
      <>
        <div className="RateBox">
          <div className="text">
            <span>Review this ride</span > </div>
  <div className="starBox">
      {this.state.stars} < /div>
        </div > </>)
  }
}

export default App;
